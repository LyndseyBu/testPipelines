apiVersion: tekton.dev/v1beta1
kind: Pipeline
metadata:
  name: hello-pipeline
  description: A simple pipeline with two sequential tasks
spec:
  params:
    - name: message
      type: string
      description: The message to pass to the hello task
      default: "Hello from Tekton Pipeline!"
  tasks:
    - name: say-hello
      taskSpec:
        params:
          - name: greeting
            type: string
            description: The greeting message to print
            default: "Hello World"
        steps:
          - name: echo
            image: alpine:3.18
            script: |
              #!/bin/sh
              echo "$(params.greeting)"
              echo "Task 1 completed successfully!"
      params:
        - name: greeting
          value: "$(params.message)"
    - name: say-goodbye
      runAfter:
        - say-hello
      taskSpec:
        steps:
          - name: echo
            image: alpine:3.18
            script: |
              #!/bin/sh
              echo "Goodbye from Task 2!"
              echo "Pipeline execution complete!"
---
apiVersion: tekton.dev/v1beta1
kind: PipelineRun
metadata:
  name: hello-pipeline-run
  labels:
    app: hello-example
spec:
  pipelineRef:
    name: hello-pipeline
  params:
    - name: message
      value: "Hello from my first PipelineRun!"

